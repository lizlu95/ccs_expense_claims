extends ../dashboard

block inner-content
    h1 Admin Reports
        h3 Filters
        form(method='post', action='/reports')
            .container
                .row
                    .col-2.mt-4
                        .custom-control.custom-radio
                            input#navreport.custom-control-input(
                                name='report_type'
                                type='radio'
                                value='nav'
                                checked
                            )
                            label.custom-control-label(for='navreport') NAV
                    .col-2.mt-4
                        .custom-control.custom-radio
                            input#payrollreport.custom-control-input(
                                name='report_type'
                                type='radio'
                                value='payroll'
                                disabled
                            )
                            label.custom-control-label(for='payrollreport') Payroll
                    .col-2.mt-4
                        .custom-control.custom-radio
                            input#t24report.custom-control-input(
                                name='report_type'
                                type='radio'
                                value='t24'
                            )
                            label.custom-control-label(for='t24report') T24
                .row
                    .col-4.mb-3
                        label(for='fdate') From Date
                        input#fdate.date.form-control(type='text' value='' name='report_start_date' placeholder='yyyy-mm-dd' required)
                    .col-4.mb-3
                        label(for='tdate') To Date
                        input#tdate.date.form-control(type='text' value='' name='report_end_date' placeholder='yyyy-mm-dd' required)
                .row
                    .col-2.mb-3
                        button.btn.btn-success(type='submit') Submit
        h3 Report List
        div.tab-content
            div.tab-pane.show.active(id='report')
                .table-responsive
                    table(class='table table-striped table-hover' cellpadding='5')
                        thead
                            tr
                                th Report ID
                                th Type
                                th Download
                                th Delete
                        tbody
                            -
                            each report in reports
                                tr
                                    td #{report.id}
                                    td #{report.type}
                                    td
                                        form(method='get', action=report.report_download)
                                            button.btn.btn-primary.btn-lg(type = submit) Download
                                    td
                                        form(method='post', action=report.report_download + "/delete")
                                            button.btn.btn-primary.btn-lg(type = submit) Delete
block scripts
  script.
    $('.date').datepicker({
      dateFormat: 'yy-mm-dd'
    });
