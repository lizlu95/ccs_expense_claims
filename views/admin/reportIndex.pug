extends ../dashboard

mixin reportsTable(reportType)
    thead
        tr
            th Report ID
            th Type
            th Download
            th Delete
    tbody
        -
        each report in reports
            if !reportType || report.type === reportType
                tr
                    td #{report.id}
                    td #{report.type}
                    td
                        form(method='get', action=report.report_download)
                            button.btn.btn-primary.btn-lg(type = submit) Download
                    td
                        form(method='post', action=report.report_download + "/delete")
                            button.btn.btn-primary.btn-lg(type = submit) Delete


block inner-content
    .row
        .col-2.mb-3
            form(method='get', action='/reports?report_type=nav')
                input(
                    hidden
                    name='report_type'
                    value='nav'
                )
                button.btn.btn-primary.btn-lg(type=submit) Admin Reports
        .col-2.mb-3
            form(action='/reports?report_type=statistics')
                input(
                    hidden
                    name='report_type'
                    value='statistics'
                )
                button.btn.btn-primary.btn-lg(type=submit) Statistics Report
    .row.mb-3
        .col-12.text-center
            h2 Created Reports
    .row.mb-3
        .col-md-12.col-lg-12
            ul.nav.nav-tabs
                li.nav-item
                    a(class='nav-link active' href='#all' id='all-tab' data-toggle='tab' aria-controls='home' aria-expanded='true') All
                li.nav-item
                    a(class='nav-link' href='#payroll' id='payroll-tab' data-toggle='tab') Payroll
                li.nav-item
                    a(class='nav-link' href='#nav' id='NAV-tab' data-toggle='tab') NAV
                li.nav-item
                    a(class='nav-link' href='#t24' id='T24-tab' data-toggle='tab') T24
            div.tab-content.clickable
                div.tab-pane.show.active(id='all')
                    .table-responsive
                        table(class='table table-striped table-hover' cellpadding='5')
                            +reportsTable()
                div.tab-pane(id='payroll')
                    .table-responsive
                        table(class='table table-striped table-hover' cellpadding='5')
                            +reportsTable('payroll')
                div.tab-pane(id='nav')
                    .table-responsive
                        table(class='table table-striped table-hover' cellpadding='5')
                            +reportsTable('nav')
                div.tab-pane(id='t24')
                    .table-responsive
                        table(class='table table-striped table-hover' cellpadding='5')
                            +reportsTable('t24')
